import{_ as S,c as j,f as C,o as P,b as n,t as T,r as u,a as _,h as F,w as K,i as h,v as g}from"./index-Cr3wxgjZ.js";import{M as I,a as A}from"./MainFooter-Buxeqiif.js";class y{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const N=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},i={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:N()},k=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},D=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=k(e);i.publicKey=s.publicKey,i.blockHeadless=s.blockHeadless,i.storageProvider=s.storageProvider,i.blockList=s.blockList,i.limitRate=s.limitRate,i.origin=s.origin||t},V=async(e,t,s={})=>{const o=await fetch(i.origin+e,{method:"POST",headers:s,body:t}),a=await o.text(),l=new y(o.status,a);if(o.ok)return l;throw l},L=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},U=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},R=e=>e.webdriver||!e.languages||e.languages.length===0,M=()=>new y(451,"Unavailable For Headless Browser"),O=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},z=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},$=(e,t)=>e instanceof FormData?e.get(t):e[t],E=(e,t)=>{if(z(e))return!1;O(e.list,e.watchVariable);const s=$(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},q=()=>new y(403,"Forbidden"),J=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},W=async(e,t,s)=>{const o=Number(await s.get(e)||0);return t-Date.now()+o},H=async(e,t,s)=>{if(!t.throttle||!s)return!1;J(t.throttle,t.id);const o=t.id||e;return await W(o,t.throttle,s)>0?!0:(await s.set(o,Date.now().toString()),!1)},x=()=>new y(429,"Too Many Requests"),Y=async(e,t,s,o)=>{const a=k(o),l=a.publicKey||i.publicKey,v=a.blockHeadless||i.blockHeadless,f=a.storageProvider||i.storageProvider,m={...i.blockList,...a.blockList},p={...i.limitRate,...a.limitRate};return v&&R(navigator)?Promise.reject(M()):(L(l,e,t),U(s),s&&E(m,s)?Promise.reject(q()):await H(location.pathname,p,f)?Promise.reject(x()):V("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},G=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Q=e=>typeof e=="string"?document.querySelector(e):e,X=async(e,t,s,o)=>{const a=k(o),l=a.publicKey||i.publicKey,v=a.blockHeadless||i.blockHeadless,f=i.storageProvider||a.storageProvider,m={...i.blockList,...a.blockList},p={...i.limitRate,...a.limitRate};if(v&&R(navigator))return Promise.reject(M());const c=Q(s);L(l,e,t),G(c);const b=new FormData(c);return E(m,b)?Promise.reject(q()):await H(location.pathname,p,f)?Promise.reject(x()):(b.append("lib_version","4.4.1"),b.append("service_id",e),b.append("template_id",t),b.append("user_id",l),V("/api/v1.0/email/send-form",b))},Z={init:D,send:Y,sendForm:X,EmailJSResponseStatus:y},ee={key:0,class:"modal-overlay"},te={class:"modal"},se={__name:"AlertModal",props:{message:{type:String,required:!0},visible:{type:Boolean,required:!0}},emits:["close"],setup(e,{emit:t}){const s=t,o=()=>{s("close")};return(a,l)=>e.visible?(P(),j("div",ee,[n("div",te,[n("p",null,T(e.message),1),n("button",{onClick:o},"Accept")])])):C("",!0)}},ae=S(se,[["__scopeId","data-v-5a2289d3"]]),oe={class:"page"},re={class:"page-content"},ie=["disabled"],le=["disabled"],ne=["disabled"],ce=["disabled"],de=["disabled"],ue="service_4go4bqq",me="template_b0tny8r",pe="kuTMf8Ax5bYS7e0_d",be={__name:"ContactView",setup(e){const t=u(""),s=u(""),o=u(""),a=u(""),l=u(""),v=u(!1),f=u(null),m=u(""),p=u(!1),c=u(!1),b=()=>{p.value=!1},B=async()=>{var w;if(!l.value){if(v.value=!0,!((w=f.value)!=null&&w.checkValidity())){m.value="⚠️ Review the fields: fill in everything and verify that your email address is valid",p.value=!0;return}c.value=!0;try{const r={name:t.value,email:s.value,subject:o.value,message:a.value};(await Z.send(ue,me,r,{publicKey:pe})).status===200?(m.value="✅ Message sent, I will reply as soon as possible",t.value="",s.value="",o.value="",a.value="",v.value=!1):m.value="❌ The message could not be sent, please try again later."}catch{m.value="❌ Error sending email, please contact me directly at pedro.rizquez.94@hotmail.com"}finally{c.value=!1,p.value=!0}}};return(w,r)=>(P(),j("main",oe,[_(I),n("section",re,[r[5]||(r[5]=n("h1",null,"Contact me",-1)),r[6]||(r[6]=n("h2",null,"Send me your inquiry or project and I will respond as soon as possible",-1)),n("form",{ref_key:"formElements",ref:f,onSubmit:K(B,["prevent"]),novalidate:"",class:F({submitted:v.value})},[h(n("input",{"onUpdate:modelValue":r[0]||(r[0]=d=>l.value=d),class:"anti-spam",type:"text",name:"_gotcha",tabindex:"-1",autocomplete:"off","aria-hidden":"true"},null,512),[[g,l.value]]),h(n("input",{type:"text",placeholder:"Name","onUpdate:modelValue":r[1]||(r[1]=d=>t.value=d),required:"",disabled:c.value},null,8,ie),[[g,t.value,void 0,{trim:!0}]]),h(n("input",{type:"email",placeholder:"Email address","onUpdate:modelValue":r[2]||(r[2]=d=>s.value=d),required:"",disabled:c.value},null,8,le),[[g,s.value,void 0,{trim:!0}]]),h(n("input",{type:"text",placeholder:"Subject","onUpdate:modelValue":r[3]||(r[3]=d=>o.value=d),required:"",disabled:c.value},null,8,ne),[[g,o.value,void 0,{trim:!0}]]),h(n("textarea",{cols:"50",rows:"10",placeholder:"Write your message here","onUpdate:modelValue":r[4]||(r[4]=d=>a.value=d),required:"",disabled:c.value},null,8,ce),[[g,a.value,void 0,{trim:!0}]]),n("button",{type:"submit",disabled:c.value},T(c.value?"Sending…":"Send message"),9,de)],34)]),_(A),_(ae,{message:m.value,visible:p.value,onClose:b},null,8,["message","visible"])]))}},he=S(be,[["__scopeId","data-v-5655ed70"]]);export{he as default};
